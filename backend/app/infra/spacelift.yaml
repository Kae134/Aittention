stack:
  name: "Back-end Stack"
  repository:
    url: https://github.com/Kae134/Aittention
    ref: spacelift-fix

workflow:
  init:
    - name: "Install âœ”"
      command: |
        echo "âœ” Install"
        cd backend
        pip install -r requirements.txt

    - name: "Tests ğŸš§"
      command: |
        echo "ğŸš§ Lancements tests unitaires"
        cd backend
        pytest --maxfail=1 --disable-warnings -q
        if [ $? -eq 0 ]; then
          echo "âœ” Tests effectuÃ©s avec succÃ¨s âœ”"
        else
          echo "âŒ Ã‰chec des tests"
          exit 1
        fi
